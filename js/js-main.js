// Website Content
var cldWebsiteInfo = {
    'portfolio': {
        'dishgo': {
            'name': 'dishGo Full-stack App',
            'desc': 'DishGo came about because we realised that there was a lack of apps that allowed you to search for a specific dish in the area that you live in or that you\'re visiting. This app allows you to search and locate dish options near you so you can find the food that you\'re after.',
            'ctaLinkOneText': 'Repository',
            'ctaLinkOne': 'https://github.com/ClaudioCamba/dishGo',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'dishGo Creators',
            'ctaLinkTwoText': 'https://northcoders.com/project-phase/dishgo',
            'techUsed': [
                ['assets/icons/react-logo.png', 'React Native'],
                ['assets/icons/supabase-logo.png', 'Supabase'],
                ['assets/icons/javascript-icon.png', 'JavaScript'],
                ['assets/icons/google-map-icon.png', 'Google API'],
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': true,
                    'vertical': false,
                    'cssEase': 'ease-in-out',
                    'verticalSwiping': false,
                    'autoplay': true,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['https://player.vimeo.com/video/936390906', 'Demo showcasing dishGo application'],
                    ['assets/projects/dishGo/dishgo-slide-1.png', 'dishgo Slide', 'React Native was used to create the front facing aspects of our app due to its potential to build dynamic components and its capability to be utilized across multiple platforms, such as iOS or Android.'],
                    ['assets/projects/dishGo/dishgo-slide-2.png', 'dishgo Slide', 'Supabase was used for the backend due to its relational database capabilities and additional features such as user authentication, image storage and real-time updates'],
                    ['assets/projects/dishGo/dishgo-slide-3.jpg', 'dishgo Slide', 'Tools & libraries | Node, Git, GitHub, Expo, Expo Go, Android Studio, Google Places API, Figma, React Navigation, React Native Paper and Jest'],
                ]
            }
        },
        'samsungcomparisontable': {
            'name': 'Samsung Comparison Table',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'Generator',
            'ctaLinkOne': 'https://claudiocamba.github.io/s21comparisontable/',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'Repository',
            'ctaLinkTwoText': 'https://github.com/ClaudioCamba/s21comparisontable/',
            'techUsed': [
                ['assets/icons/adobe-target-icon.png', 'Adobe Target'],
                ['assets/icons/jquery-icon.png', 'jQuery'],
                ['assets/icons/javascript-icon.png', 'JavaScript'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': false,
                    'vertical': false,
                    'cssEase': 'ease',
                    'verticalSwiping': false,
                    'autoplay': false,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['https://player.vimeo.com/video/580855196', 'As a key member of the Cheil UK personalisation team, I was responsible for the creation of the comparison table. The summarises the optimisation program and highlights how effective the comparison table was for Samsung globally.'],
                    ['assets/projects/comparison-tables/comparison-table-slide-1.jpg', 'Samsung Comparison Table Slide', 'Comparison table V3: This update was for the S21 launch, I aimed to showcase various models and colours available. This was achieved by adding a dynamic slider that updates specifications and colours accordingly.'],
                    ['assets/projects/comparison-tables/comparison-table-slide-2.jpg', 'Samsung Comparison Table Slide', 'Comparison table V2: Based on how well the previous comparison table performed, minimal updates were made which included adaptions to the style.'],
                    ['assets/projects/comparison-tables/comparison-table-slide-3.jpg', 'Samsung Comparison Table Slide', 'Comparison table V1: The initial S10 comparison table performed extremely well and became a staple for future product launches. We then scaled this by creating a code generator assisting multiple Samsung markets globally.']
                ]
            }
        },
        'samsungcartabandonment': {
            'name': 'Samsung Cart Abandonment',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'Generator',
            'ctaLinkOne': 'https://claudiocamba.github.io/imcartabandonment/',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'Repository',
            'ctaLinkTwoText': 'https://github.com/ClaudioCamba/imcartabandonment',
            'techUsed': [
                ['assets/icons/adobe-target-icon.png', 'Adobe Target'],
                ['assets/icons/jquery-icon.png', 'jQuery'],
                ['assets/icons/javascript-icon.png', 'JavaScript'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': true,
                    'vertical': false,
                    'cssEase': 'ease',
                    'verticalSwiping': false,
                    'autoplay': false,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['https://player.vimeo.com/video/582152829', 'This video showcases how Cart Abandonment works, this example was created for the S20 Launch which performed well and in turn became a staple for future launches.'],
                    ['assets/projects/cart-abandonment/cart-abandonment-slide-2.jpg', 'Samsung Cart Abandonment Slide', 'The Cart abandonment banner allowed us to showcase the unique selling propositions to the visitors and custom messages dependent on the product left in the Cart.'],
                    ['assets/projects/cart-abandonment/cart-abandonment-slide-1.jpg', 'Samsung Cart Abandonment Slide', 'Cart abandonment was initially used for mobile devices left in the cart and after its success, we expanded the functionality to other Samsung products such as televisions, watches, and home appliances.'],
                    ['assets/projects/cart-abandonment/cart-abandonment-slide-4.jpg', 'Samsung Cart Abandonment Slide', 'The cart abandonment functionality is activated once the visitor adds a product to the card and navigates away without completing their transaction. The banner can be placed on any page to remind the visitor of the product with a call to action which navigates them back.']
                ]
            }
        },
        'samsungcataffinity': {
            'name': 'Samsung Category Affinity',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'Generator',
            'ctaLinkOne': 'https://claudiocamba.github.io/imcategoryaffinity/',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'Repository',
            'ctaLinkTwoText': 'https://github.com/ClaudioCamba/imcategoryaffinity',
            'techUsed': [
                ['assets/icons/adobe-target-icon.png', 'Adobe Target'],
                ['assets/icons/jquery-icon.png', 'jQuery'],
                ['assets/icons/javascript-icon.png', 'JavaScript'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': true,
                    'vertical': false,
                    'cssEase': 'ease',
                    'verticalSwiping': false,
                    'autoplay': false,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['https://player.vimeo.com/video/582157253', 'The video is showcasing how the category affinity optimisation functions. It was important to place the new key visual within the first position of the slider which required responsive javascript to locate particular variables before replacing the slide content.'],
                    ['assets/projects/category-affinity/category-affinity-slide-2.jpg', 'Samsung Category Affinity Slide', 'Due to how successful the optimisation performed it became a staple for Samsung launches and during promotional phases such as Black Friday and Cyber Monday.'],
                    ['assets/projects/category-affinity/category-affinity-slide-3.jpg', 'Samsung Category Affinity Slide', 'This optimisation was initially used for television products, as it improved conversion we expanded the functionality to other Samsung products such as mobile phones, watches, and home appliances.'],
                    ['assets/projects/category-affinity/category-affinity-slide-4.jpg', 'Samsung Category Affinity Slide', 'This optimisation was built to target all devices (desktop, tablets, and mobiles) and it was important for it to be responsive due to the high traffic number from mobile devices.'],
                    ['assets/projects/category-affinity/category-affinity-slide-5.jpg', 'Samsung Category Affinity Slide', 'The purpose of this optimisation is to assist visitors to return to the buy page from the homepage, this would reduce the journey by several steps and decrease friction with the purchasing process.']
                ]
            }
        },
        'samsungusp': {
            'name': 'Samsung USP',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'Generator',
            'ctaLinkOne': 'https://claudiocamba.github.io/uspgenerator/',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'Repository',
            'ctaLinkTwoText': 'https://github.com/ClaudioCamba/uspgenerator',
            'techUsed': [
                ['assets/icons/adobe-target-icon.png', 'Adobe Target'],
                ['assets/icons/jquery-icon.png', 'jQuery'],
                ['assets/icons/javascript-icon.png', 'JavaScript'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': false,
                    'vertical': true,
                    'cssEase': 'ease',
                    'verticalSwiping': true,
                    'autoplay': false,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['https://player.vimeo.com/video/582147719', 
                    'The video is showcasing how the code generators work, it allows markets to launch activities during launches even without developer resource available. the browser console is utilised to test the code generated as it behaves similarly to how Adobe Target injects the code on the page.'],
                    ['assets/projects/mmp-usp/usp-slide-1.jpg', 'Samsung USP Slide', 'This is the S21 dedicated page (Highlight Page) and each product on the samsung page has one which allows the visitor to learn more about the product and its features.'],
                    ['assets/projects/mmp-usp/usp-slide-2.jpg', 'Samsung USP Slide', 'USPs are normally positioned within a products dedicated page (Highlight Page), the data we have collected has shown majority of visitors scroll to that point on the page.'],
                    ['assets/projects/mmp-usp/usp-slide-3.jpg', 'Samsung USP Slide', 'USPs have evolved through multiple experiments and have gone through various updates dependent on the data collected.'],
                    ['assets/projects/mmp-usp/usp-slide-4.jpg', 'Samsung USP Slide', 'The Samsung Galaxy S21 has two dedicated pages (Ultra & Normal), In this case multiple variations with contrasting colours needed to be built for better visibility on the page.'],
                    ['assets/projects/mmp-usp/usp-slide-5.jpg', 'Samsung USP Slide', 'The purpose of the USP is to incentivise the visitor to procced to the next stage of the journey which is the Buy Page.']

                ]
            }
        },
        'targetav': {
            'name': 'Target AV',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'View Live',
            'ctaLinkOne': 'https://www.targetav.com/index.php',
            'learnCta': 'Learn More',
            'techUsed': [
                ['assets/icons/photoshop-icon.png', 'Photoshop'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': false,
                    'vertical': true,
                    'cssEase': 'ease',
                    'verticalSwiping': true,
                    'autoplay': true,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['assets/projects/targetav/targetav-slide-1.jpg', 'TargetAV Slide', 'The site opens with an owl carousel key visual which transitions through the various services they provide.'],
                    ['assets/projects/targetav/targetav-slide-2.jpg', 'TargetAV Slide', 'The page then breakds up into "Our Services" section which further highlights what additional services they provide their clients.'],
                    ['assets/projects/targetav/targetav-slide-3.jpg', 'TargetAV Slide', 'At this point on the page a gallery containing photographs from previous events and paragraphs detailing what type of an event and what they provide.'],
                    ['assets/projects/targetav/targetav-slide-4.jpg', 'TargetAV Slide', 'This section we provides testimonials from previous clientel and also their up to date social feed of their instagram account which was added using a widget.']
                ]
            }
        },
        'gpmc': {
            'name': 'GPMC',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'View Live',
            'ctaLinkOne': 'https://www.gpmcq.com/index.php',
            'learnCta': 'Learn More',
            'techUsed': [
                ['assets/icons/photoshop-icon.png', 'Photoshop'],
                ['assets/icons/jquery-icon.png', 'jQuery'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': false,
                    'vertical': true,
                    'cssEase': 'ease',
                    'verticalSwiping': true,
                    'autoplay': true,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['assets/projects/gpmc/gpmc-slide-1.jpg', 'GPMC Slide', 'The key visual was created using owl caousel which allowed me to embbed videoand img as a backup incase of loading issue.'],
                    ['assets/projects/gpmc/gpmc-slide-2.jpg', 'GPMC Slide', 'My CSS skills further improved by better understanding the positioning of elements on the page, I also utilised bootstrap to built it at faster pace and facilitated the responsiveness. '],
                    ['assets/projects/gpmc/gpmc-slide-3.jpg', 'GPMC Slide', 'Owl Caoursel was further utilised down the page to allow more information to be presented within a single section.'],
                    ['assets/projects/gpmc/gpmc-slide-4.jpg', 'GPMC Slide', 'The homepage was utilised to showcase more of the services the client is able to provide to its customers.'],
                    ['assets/projects/gpmc/gpmc-slide-5.jpg', 'GPMC Slide', 'Some of the modules are similar and were duplicated e.g footer using php to allow me perform that.']
                ]
            }
        },
        'portfoliov1': {
            'name': 'Claudio Portfolio V1',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'View Live',
            'ctaLinkOne': 'https://claudiocamba.github.io/Portfolio/',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'Repository',
            'ctaLinkTwoText': 'https://github.com/ClaudioCamba/Portfolio',
            'techUsed': [
                ['assets/icons/photoshop-icon.png', 'Photoshop'],
                ['assets/icons/bootstrap-icon.png', 'Bootstrap'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': false,
                    'vertical': true,
                    'cssEase': 'ease',
                    'verticalSwiping': true,
                    'autoplay': true,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['assets/projects/portfolio-v1/portfoliov1-slide-1.jpg', 'Portfolio Slide', 'The page begins with an illustraion of my self and an introductory paragraph to highlight my personality and who I am.'],
                    ['assets/projects/portfolio-v1/portfoliov1-slide-2.jpg', 'Portfolio Slide', 'These were the early personal projects I worked on as a self taught developer, they help me understand how to use code to create my ideas.'],
                    ['assets/projects/portfolio-v1/portfoliov1-slide-3.jpg', 'Portfolio Slide', 'This section I wanted to allow the visitor to get in touch and also preview some of my work on various coding platforms.']
                ]
            }
        },
        'minagent': {
            'name': 'Minagent',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'View Live',
            'ctaLinkOne': 'https://claudiocamba.github.io/Minagent/',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'Repository',
            'ctaLinkTwoText': 'https://github.com/ClaudioCamba/Minagent',
            'techUsed': [
                ['assets/icons/photoshop-icon.png', 'Photoshop'],
                ['assets/icons/jquery-icon.png', 'jQuery'],
                ['assets/icons/bootstrap-icon.png', 'Bootstrap'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': false,
                    'vertical': true,
                    'cssEase': 'ease',
                    'verticalSwiping': true,
                    'autoplay': true,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['assets/projects/minagent/minagent-slide-1.jpg', 'Minagent Slide', 'The site begins with a key visual of the london city to represent the location the estate agency operates and the brand name in the center followed by the three main services provided by the business (Buying, Renting and Valuating properties).'],
                    ['assets/projects/minagent/minagent-slide-2.jpg', 'Minagent Slide', 'This section of the page I wanted to focus more on the personality behind the the agency and where and when it operates.'],
                    ['assets/projects/minagent/minagent-slide-3.jpg', 'Minagent Slide', 'The closing end of the page I wanted to ensure the visitor with confidence by providing services and governing bodies which are affilited with the agency and an illustration to once again highlight the location it operates in.']
                ]
            }
        },
        'faceman': {
            'name': 'Faceman',
            'desc': 'A re-imagined version of the famous hangman game, this game is for two or more players, one player submits a word and the other player(s) must try to guess by suggesting letters, with a limited number of attempts.',
            'ctaLinkOneText': 'View Live',
            'ctaLinkOne': 'https://claudiocamba.github.io/Faceman/',
            'learnCta': 'Learn More',
            'ctaLinkTwo': 'Repository',
            'ctaLinkTwoText': 'https://github.com/ClaudioCamba/Faceman',
            'techUsed': [
                ['assets/icons/photoshop-icon.png', 'Photoshop'],
                ['assets/icons/jquery-icon.png', 'jQuery'],
                ['assets/icons/bootstrap-icon.png', 'Bootstrap'],
                ['assets/icons/css3-icon.png', 'CSS3'],
                ['assets/icons/html5-icon.png', 'HTML5']
            ],
            'modalContent': {
                'slick': {
                    'infinite': true,
                    'speed': 1000,
                    'fade': true,
                    'vertical': false,
                    'cssEase': 'ease-in-out',
                    'verticalSwiping': false,
                    'autoplay': true,
                    'autoplaySpeed': 3000
                },
                'imgsAndDesc': [
                    ['assets/projects/faceman/faceman-slide-1.jpg', 'Faceman Slide', 'The begins by player 1 entering a word within the input field and clicking the blue play button. After clicking the blue play button the next step is for player 2 to begin entering individual letters and clicking the guess button.'],
                    ['assets/projects/faceman/faceman-slide-2.jpg', 'Faceman Slide', 'As player 2 makes the guessing attempts if the letters match it will be revealed or if it guessed incorrectly player 2 will lose a life bar and the face illustration will progressively appear more distraced.'],
                    ['assets/projects/faceman/faceman-slide-3.jpg', 'Faceman Slide', 'If player 2 makes 8 incorrect attempts the game will end with a crying face illustration and a red replay button will appear. The alternative outcome is player 2 guessing all the letters in the word before losing all their health bars and have them winning the game.']
                ]
            }
        }
    }
};

// Section Variables ----- //
var form = document.getElementById("my-form"),
    cldBody = document.querySelector('body'),
    cldProjectSec = document.getElementById('cld-projects'),
    cldContactSec = document.getElementById('cld-contact'),
    cldProjectBtn = document.querySelectorAll('.portfolio-btn')[0],
    cldContactBtn = document.querySelectorAll('.contact-btn')[0],
    cldLearnBtn = document.querySelectorAll('.cld-learn, .cld-box-img>a'),
    cldModalBg = document.querySelector('.cld-modal-bg'),
    cldModalContent = document.querySelector('.cld-modal-content'),
    cldModalCloseBtn = document.querySelector('.cld-modal-close'),
    cldModalTitle = document.querySelector('.cld-modal-body-title'),
    cldModalCtaWrap = document.querySelector('.cld-modal-cta-wrap'),
    cldModalList = document.querySelector('.cld-modal-body-list'),
    cldModalSlider = document.querySelector('.cld-modal-body-img'),
    cldModalLink1 = document.querySelector('.cld-modal-link1'),
    cldModalLink2 = document.querySelector('.cld-modal-link2'),
    cldModalUsedTech = document.querySelectorAll('.cld-modal-used-tech'),
    cldUsedTech = document.querySelectorAll('.cld-used-tech'),
    cldIntroBtm = document.querySelector('.cld-intro-btm'),
    cldVidWidth = 0,
    cldModalData = '',
    cldIntervalCounter = 0,
    iframe,
    player,
    cldImgRefresh;

// Scroll to updated message
function scrollToFormMsg() {
    cldContactSec.querySelector('.cld-intouch').scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
    });
};

// Vimeo video control
function cldiFrameVidControl() {
    if (document.querySelectorAll('.cld-modal-vid-wrap iframe').length > 0) {
        iframe = document.querySelector('.cld-modal-vid-wrap iframe');
        player = new Vimeo.Player(iframe);

        player.ready().then(function() {
            // the player is ready
            // console.log('READY');
        });

        player.on('play', function() {
            if (cldModalContent.classList.contains('cld-slider-playing')) {
                // console.log('played the video!');
                $(cldModalSlider).slick('slickPause');
                cldSliderState();
            };
        });

        player.getVideoTitle().then(function(title) {
            // console.log('title:', title);
            iframe.classList.add('cld-vid-loaded');
        });

        // Updating player colour
        player.setColor('#EAB32C').then(function(color) {
            // The new color value: #00ADEF
            // console.log('player colour', color);
        }).catch(function(error) {
            // An error occurred while setting the color
            // console.log(error);
        });

    }
};

// Pausing video with conditions
function cldVidPause() {
    // check if video has loaded
    if (document.querySelectorAll('.cld-modal-vid-wrap .cld-vid-loaded').length > 0) {
        player.getPaused().then(function(paused) {
            if (paused === false && !cldBody.classList.contains('cld-modal-show') || cldModalContent.classList.contains('cld-slider-playing')) {
                // `paused` indicates whether the player is paused
                // console.log('false', paused);
                player.pause();
            };
        });
    };
};

// Pausing video
function cldVidPausing() {
    if (document.querySelectorAll('.cld-modal-vid-wrap .cld-vid-loaded').length > 0) {
        player.getPaused().then(function(paused) {
            if (paused === false) {
                player.pause();
            }
        });
    }
};

// width detection & video sizes
function cldWidthDetect() {
    if (window.innerWidth > 1700) {
        cldVidWidth = 'width:1000px;height:562.5px;';
    } else if (window.innerWidth <= 1700 && window.innerWidth >= 976) {
        cldVidWidth = 'width:58.8235vw;height:33.0882vw;';
    } else if (window.innerWidth <= 975 && window.innerWidth >= 476) {
        cldVidWidth = 'width:88.9230vw;height:59.2820vw;';
    } else if (window.innerWidth <= 475) {
        cldVidWidth = 'width:100vw;height:66.6652vw;';
    };
};

// Form Submition 
function cldFormSubmit() {
    async function handleSubmit(event) {
        event.preventDefault();
        var data = new FormData(event.target);
        fetch(event.target.action, {
            method: form.method,
            body: data,
            headers: {
                'Accept': 'application/json'
            }
        }).then(response => {
            form.reset();
            cldContactSec.classList.remove('cld-form-error');
            cldContactSec.classList.add('cld-form-submitted');
            cldContactSec.querySelector('.cld-kv-default').setAttribute('src', 'assets/other/claudio-camba-contact-kv-submitted.png');
            cldContactSec.querySelector('.cld-intouch').innerHTML = 'Thanks for your submission! I will get in touch soon!'
            scrollToFormMsg();
        }).catch(error => {
            if (!cldContactSec.classList.contains('cld-form-submitted')) {
                cldContactSec.classList.add('cld-form-error');
                cldContactSec.querySelector('.cld-kv-default').setAttribute('src', 'assets/other/claudio-camba-contact-kv-error.png');
                cldContactSec.querySelector('.cld-intouch').innerText = 'Oops! There was a problem submitting your form';
                scrollToFormMsg();
            }
        });
    }
    form.addEventListener("submit", handleSubmit);
};

// Show / Hide Intro Desc Class
function cldShowHideIntroDesc() {
    if (cldIntroBtm.className.indexOf('cld-long-desc') < 0) {
        cldIntroBtm.classList.add('cld-long-desc');
    }
};

// Used tech ----- //
function cldUsedTechs() {
    for (var e = 0; e < cldUsedTech.length; e++) {
        var cldHoldtech = cldUsedTech[e].getAttribute('data-modal');
        for (var t = 0; t < cldWebsiteInfo.portfolio[cldHoldtech].techUsed.length; t++) {
            if (t === 0) {
                cldUsedTech[e].innerHTML = '<img alt="' + cldWebsiteInfo.portfolio[cldHoldtech].techUsed[t][1] + ' Icon' + '" src="' + cldWebsiteInfo.portfolio[cldHoldtech].techUsed[t][0] + '">';
            } else {
                cldUsedTech[e].innerHTML = cldUsedTech[e].innerHTML + '<img alt="' + cldWebsiteInfo.portfolio[cldHoldtech].techUsed[t][1] + ' Icon' + '" src="' + cldWebsiteInfo.portfolio[cldHoldtech].techUsed[t][0] + '">';
            }
        }
    }
};

// Main Section ----- //
function cldSecDetect() {
    if (cldContactSec.getBoundingClientRect().top <= cldContactBtn.getBoundingClientRect().bottom) {
        cldBody.classList.add('cld-contact-view');
        cldBody.classList.remove('cld-projects-view', 'cld-intro-view');
    } else if (cldProjectSec.getBoundingClientRect().top <= cldProjectBtn.getBoundingClientRect().bottom) {
        cldBody.classList.add('cld-projects-view');
        cldBody.classList.remove('cld-contact-view', 'cld-intro-view');
    } else {
        cldBody.classList.add('cld-intro-view');
        cldBody.classList.remove('cld-contact-view', 'cld-projects-view');
    };
};

// Navigation smooth scroll ----- //
function cldSmoothScroll() {
    $(document).on('click', 'a[href^="#"]', function(event) {
        event.preventDefault();

        $('html, body').animate({
            scrollTop: $($.attr(this, 'href')).offset().top
        }, 800);
    });
};

// Control Slider state
function cldPlayPause() {
    // Toggle Play / Pause
    if (cldModalSlider.slick.paused) {
        $(cldModalSlider).slick('slickPlay');
        $(cldModalSlider).slick('slickNext');
        cldModalContent.classList.add('cld-slider-playing');
    } else {
        // console.log('playing');
        $(cldModalSlider).slick('slickPause');
        cldModalContent.classList.remove('cld-slider-playing');
    };
};

// Detect Slider state
function cldSliderState() {
    if (cldModalSlider.classList.contains('slick-initialized')) {
        if (cldModalSlider.slick.paused) {
            // console.log('paused');
            cldModalContent.classList.remove('cld-slider-playing');
        } else {
            // console.log('playing');
            cldModalContent.classList.add('cld-slider-playing');
        };
    }
    cldVidPause();
};

// Modal projects open / close ----- //
function cldModalOpenClose() {
    // open
    cldLearnBtn.forEach(function(btn) {
        btn.addEventListener('click', function() {
            // Handle click ----- //
            if (cldModalData !== this.getAttribute('data-modal')) {
                cldModalData = this.getAttribute('data-modal');
                cldModalPopulating();
                // console.log('New Card Populating Modal');
            };
            // Show Modal
            cldBody.classList.add('cld-modal-show');
            // Fix carousel loading issue
            if (cldModalSlider.querySelectorAll('iframe').length < 0) {
                $('.slick-slider').slick('refresh');
            }
        });
    });
    // close
    cldBody.addEventListener('click', function(event) {
        if (cldBody.classList.value.indexOf('cld-modal-show') > -1) {
            if (event.target !== cldModalBg && event.target !== cldModalCloseBtn) {
                // console.log('Clicked On Modal');
                cldSliderState();
            } else {
                cldClosingModal();
            };
        };

    });
    // close button
    cldModalCloseBtn.addEventListener('click', function(event) {
        cldClosingModal();
    });
};

// Slick eventlistners ----- //
function cldSlickListner() {

    // On After slide change eventlistner
    $(cldModalSlider).on('beforeChange', function(event, slick, currentSlide, nextSlide) {
        for (var y = 0; y < cldModalList.querySelectorAll('li').length; y++) {
            cldModalList.querySelectorAll('li')[y].classList.remove('cld-modal-active');
        };
        cldModalList.querySelectorAll('li')[nextSlide].classList.add('cld-modal-active');
        // console.log('Slide Change');
        cldVidPausing();
    });

    //  On after slick initialised
    $(cldModalSlider).on('init', function(event, slick) {
        if (cldModalList.outerHTML.indexOf('cld-modal-active') < 0) {
            cldModalList.querySelectorAll('li')[0].classList.add('cld-modal-active');
            // console.log('Highlight Initial List');
        }
    });
};

// Modal closing ----- //
function cldClosingModal() {
    cldBody.classList.remove('cld-modal-show');
    cldModalContent.removeAttribute('style');
    // Pausing slick slider
    $(cldModalSlider).slick('slickPause');
    cldSliderState();
    // console.log('Closing Modal');
};

// List control slider ----- //
function cldListControl(index) {
    cldVidPausing();

    cldIntervalCounter = 0;

    var gridCheckjQuery = setInterval(function() {
        if (index === $(cldModalSlider).slick('slickCurrentSlide')) {
            clearInterval(gridCheckjQuery); //clear interval 
            // console.log('CLEARED');
        } else if (cldIntervalCounter >= 5) {
            clearInterval(gridCheckjQuery); //clear interval
            // console.log('CLEARED2');
        } else {
            // console.log('DONE IT');
            $(cldModalSlider).slick('slickGoTo', index);
            $(cldModalSlider).slick('slickPause');
            cldSliderState();
        }
    }, 200);
};


// Onload functions ----- //
var chkReadyState = setInterval(function() {
    if (document.readyState == 'complete') {
        // clear the interval
        clearInterval(chkReadyState);
        // finally your page is loaded.
        cldSecDetect();
        cldModalOpenClose();
        cldSmoothScroll();
        cldUsedTechs();
        cldSlickListner();
        cldFormSubmit();
    }
}, 100);

// Scroll eventlistener ----- // 
window.addEventListener('scroll', function() {
    cldSecDetect();
});

// Resize eventlistener ----- //
window.addEventListener('resize', function() {
    cldSecDetect();
    cldWidthDetect();
    if (cldBody.classList.contains('cld-modal-show')) {
        $('.slick-slider').slick('refresh');
        for (var d = 0; d < document.querySelectorAll('.cld-modal-vid-wrap iframe').length; d++) {

            if (document.querySelectorAll('.cld-modal-vid-wrap iframe')[0].attributes.style.value !== cldVidWidth) {
                document.querySelectorAll('.cld-modal-vid-wrap iframe')[d].setAttribute('style', cldVidWidth);
                // console.log('DOESNT MATCH');
            }
        };
        setTimeout(function() {
            cldiFrameVidControl();
        }, 1000);

    };
    cldSliderState();
});

// Refreshing Images after modal load
function cldModalImgRefresh() {
    if (cldModalSlider.querySelectorAll('img').length >= cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[0].length) {
        if (cldModalSlider.classList.contains('slick-initialized')) {
            $(cldModalSlider).slick('refresh');
            clearInterval(cldImgRefresh);
            document.querySelector('.cld-modal-slider-wrap').classList.remove('cld-loading-img');
            // console.log('CLEARED');
        }
        // console.log('test1');
    }
    // console.log('test2');
};

// Modal Populating ----- //
function cldModalPopulating() {

    cldWidthDetect();

    // Appending slide images
    for (var i = 0; i < cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc.length; i++) {
        if (i === 0) {
            if (cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i].toString().indexOf('/video/') > -1) {
                cldModalSlider.innerHTML = '<div class="cld-modal-vid-wrap"><iframe style="' + cldVidWidth + '" src="' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][0] + '" frameborder="0" allow="autoplay; picture-in-picture"></iframe></div>';
                cldModalList.innerHTML = '<li><span class="cld-list-desc" onclick="cldListControl(' + i + ')" li-index="' + i + '">' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][1] + '</span><span onclick="cldPlayPause()" class="cld-play-pause"><img class="cld-slide-play" alt="image" src="assets/icons/play-icon.png"><img class="cld-slide-pause" alt="image" src="assets/icons/pause-icon.png"></span></li>';
            } else {
                cldModalSlider.innerHTML = '<img alt="' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][1] + '" src="' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][0] + '">';
                cldModalList.innerHTML = '<li><span class="cld-list-desc" onclick="cldListControl(' + i + ')" li-index="' + i + '">' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][2] + '</span><span onclick="cldPlayPause()" class="cld-play-pause"><img class="cld-slide-play" alt="image" src="assets/icons/play-icon.png"><img class="cld-slide-pause" alt="image" src="assets/icons/pause-icon.png"></span></li>';
            };
            // console.log('Append First Img & List');

        } else {
            if (cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i].toString().indexOf('/video/') > -1) {
                cldModalSlider.innerHTML = cldModalSlider.innerHTML + '<div class="cld-modal-vid-wrap"><iframe style="' + cldVidWidth + '" src="' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][0] + '" frameborder="0" allow="autoplay; picture-in-picture"></iframe></div>';
                cldModalList.innerHTML = cldModalList.innerHTML + '<li><span class="cld-list-desc" onclick="cldListControl(' + i + ')" li-index="' + i + '">' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][1] + '</span><span onclick="cldPlayPause()" class="cld-play-pause"><img class="cld-slide-play" alt="image" src="assets/icons/play-icon.png"><img class="cld-slide-pause" alt="image" src="assets/icons/pause-icon.png"></span></li>';
            } else {
                cldModalSlider.innerHTML = cldModalSlider.innerHTML + '<img alt="' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][1] + '" src="' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][0] + '">';
                cldModalList.innerHTML = cldModalList.innerHTML + '<li><span class="cld-list-desc" onclick="cldListControl(' + i + ')" li-index="' + i + '">' + cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[i][2] + '</span><span onclick="cldPlayPause()" class="cld-play-pause"><img class="cld-slide-play" alt="image" src="assets/icons/play-icon.png"><img class="cld-slide-pause" alt="image" src="assets/icons/pause-icon.png"></span></li>';
            };
            // console.log('Append Rest Img & List');

        };
    };

    // Description and links
    if (typeof cldWebsiteInfo.portfolio[cldModalData].name != "undefined") {
        cldModalTitle.innerHTML = '<h1 class="cld-modal-title">' + cldWebsiteInfo.portfolio[cldModalData].name + '</h1>';
    } else {
        cldModalTitle.innerHTML = '';
    }

    if (typeof cldWebsiteInfo.portfolio[cldModalData].ctaLinkOne != "undefined") {
        cldModalLink1.innerHTML = '<span>' + cldWebsiteInfo.portfolio[cldModalData].ctaLinkOneText + '</span>';
        cldModalLink1.setAttribute('href', cldWebsiteInfo.portfolio[cldModalData].ctaLinkOne);
        cldModalCtaWrap.removeAttribute('style');
    } else {
        cldModalLink1.innerHTML = '';
        cldModalLink1.setAttribute('href', '');
        cldModalCtaWrap.style.justifyContent = 'center';
    }

    if (typeof cldWebsiteInfo.portfolio[cldModalData].ctaLinkTwo != "undefined") {
        cldModalLink2.innerHTML = '<span>' + cldWebsiteInfo.portfolio[cldModalData].ctaLinkTwo + '</span>';
        cldModalLink2.setAttribute('href', cldWebsiteInfo.portfolio[cldModalData].ctaLinkTwoText);
        cldModalCtaWrap.removeAttribute('style');
    } else {
        cldModalLink2.innerHTML = '';
        cldModalLink2.setAttribute('href', '');
        cldModalCtaWrap.style.justifyContent = 'center';
    }

    for (var x = 0; x < cldWebsiteInfo.portfolio[cldModalData].techUsed.length; x++) {
        for (var o = 0; o < cldModalUsedTech.length; o++) {
            if (x === 0) {
                cldModalUsedTech[o].innerHTML = '<div class="tooltip"><img alt="' + cldWebsiteInfo.portfolio[cldModalData].techUsed[x][1] + '" src="' + cldWebsiteInfo.portfolio[cldModalData].techUsed[x][0] + '"><span class="tooltiptext">' + cldWebsiteInfo.portfolio[cldModalData].techUsed[x][1] + '</span></div>';
            } else {
                cldModalUsedTech[o].innerHTML = cldModalUsedTech[o].innerHTML + '<div class="tooltip"><img alt="' + cldWebsiteInfo.portfolio[cldModalData].techUsed[x][1] + '" src="' + cldWebsiteInfo.portfolio[cldModalData].techUsed[x][0] + '"><span class="tooltiptext">' + cldWebsiteInfo.portfolio[cldModalData].techUsed[x][1] + '</span></div>';
            }
        }
    };

    // Reset div class before carousel initiate
    cldModalSlider.setAttribute('class', 'cld-modal-body-img');

    // Carousel Swipe Initiate
    $(cldModalSlider).slick({
        infinite: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.infinite,
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: true,
        speed: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.speed,
        fade: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.fade,
        vertical: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.vertical,
        verticalSwiping: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.verticalSwiping,
        cssEase: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.cssEase,
        autoplay: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.autoplay,
        autoplaySpeed: cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.autoplaySpeed,
        draggable: true,
        pauseOnHover: true,
        pauseOnDotsHover: true,
        swipe: true,
        accessibility: true,
        focusOnSelect: true,
        pauseOnFocus: true,
        swipeToSlide: true,
        centerMode: true,
        arrows: true
    });

    // Check for vertical
    if (cldWebsiteInfo.portfolio[cldModalData].modalContent.slick.vertical) {
        cldModalContent.classList.add('cld-modal-vertical-btn');
    } else {
        cldModalContent.classList.remove('cld-modal-vertical-btn');
    };

    cldiFrameVidControl();

    // If the first slide is not a video run the refresh function
    if (cldWebsiteInfo.portfolio[cldModalData].modalContent.imgsAndDesc[0].toString().indexOf('/video/') < 1) {
        document.querySelector('.cld-modal-slider-wrap').classList.add('cld-loading-img');
        cldImgRefresh = setInterval(cldModalImgRefresh, 100);
    };

};

